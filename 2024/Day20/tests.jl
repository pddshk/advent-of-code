using Test

@testset "Part 1" begin
    inp = """
    ###############
    #...#...#.....#
    #.#.#.#.#.###.#
    #S#...#.#.#...#
    #######.#.#.###
    #######.#.#...#
    #######.#.###.#
    ###..E#...#...#
    ###.#######.###
    #...###...#...#
    #.#####.#.###.#
    #.#...#.#.#...#
    #.#.#.#.#.#.###
    #...#...#...###
    ###############"""

    level, startpos, endpos = parseinput(IOBuffer(inp))
    @test part1(level, startpos, endpos; isgood=(>(0))) == 14+14+2+4+2+3+1+1+1+1+1
end

@testset begin
    inp = """
    ###############
    #...#...#.....#
    #.#.#.#.#.###.#
    #S#...#.#.#...#
    #######.#.#.###
    #######.#.#...#
    #######.#.###.#
    ###..E#...#...#
    ###.#######.###
    #...###...#...#
    #.#####.#.###.#
    #.#...#.#.#...#
    #.#.#.#.#.#.###
    #...#...#...###
    ###############"""

    level, startpos, endpos = parseinput(IOBuffer(inp))
    @test part2(level, startpos, endpos; isgood=(==(76))) == 3  # 32+31+29+39+25+23+20+19+12+14+12+22+4+3
end